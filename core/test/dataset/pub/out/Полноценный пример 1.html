
<head>
    <meta charset="UTF-8">
    <link href="../../../../../www/css/bootstrap-5.1.3-dist/main.css" rel="stylesheet">
    <script src="../../../../../www/css/bootstrap-5.1.3-dist/main.js"></script>
    <link rel="stylesheet" href="../../../../../www/css/main.min.css">
    <link rel="stylesheet" href="../../../../../www/css/plugin.css">
</head>

<!-- Всплывающие окно с исходным кодом из файла ------------------------------------------ -->
<div id="LinkCodeWindow" onclick="OnHide(event)">
    <div id="LinkCodeWindowDet">
        <div id="LinkCodeWindowButtonTitle">
            <div id="LinkCodeName"></div>
            <input type="button" id="LinkCodeWindowButtonHide" value="Скрыть" onclick="LinkCodeWindow.style.display='none'">
        </div>
        <pre class="code" id="LinkCodeWindowBody">
        </pre>
    </div>
    <div id="LinkCodeWindowFooter">
        <div id="LinkCodeWindowPath"></div>
    </div>
</div>
<!-- ---------------------------------------------------------------------------------------- -->
<div id="menu">
    <!-- Скрыть оглавление -->
    <input type="button" id="bt_show_menu" value="<<"
           onclick="menu_hidden()">
    <!-- Развернуть оглавление -->
    <input type="button" id="bt_hidden_menu" value=">>"
           onclick="menu_show()"/>
    <!-- Темы оглавления -->
    <div id="detail_menu">
        <ol>
            <ol><li><a href="#Причина появления">Причина появления</a></li><li><a href="#Какие фичи предлагает MarkdownDRY ?">Какие фичи предлагает MarkdownDRY ?</a></li><ol><li><a href="#Список фич">Список фич</a></li><ol><li><a href="#Переменные - `Vars`">Переменные - `Vars`</a></li><ol><li><a href="#Синтаксис">Синтаксис</a></li><li><a href="#Пример">Пример</a></li></ol><li><a href="#Ссылочный блок - `ReferenceBlock`">Ссылочный блок - `ReferenceBlock`</a></li><li><a href="#Раскрываемые блок - `DropdownBlock`">Раскрываемые блок - `DropdownBlock`</a></li><li><a href="#Выделение блоков - `HighlightBlock`">Выделение блоков - `HighlightBlock`</a></li><li><a href="#Фото Галерея - `PhotoGallery`">Фото Галерея - `PhotoGallery`</a></li><li><a href="#Математический размах - `MathSpan`">Математический размах - `MathSpan`</a></li><li><a href="#Скрытые заголовки - `HiddenHeaders`">Скрытые заголовки - `HiddenHeaders`</a></li><li><a href="#Ссылки на структурные элементы кода - LinkCode">Ссылки на структурные элементы кода - LinkCode</a></li><ol><li><a href="#УникальныйЯкорь">УникальныйЯкорь</a></li><li><a href="#Пример ссылки на локальные файлы">Пример ссылки на локальные файлы</a></li></ol><li><a href="#Обычная функция">Обычная функция</a></li><ol><li><a href="#Пример ссылки на файл из интернета">Пример ссылки на файл из интернета</a></li></ol><li><a href="#Экранированная вставить кода из файла - InsertCodeFromFile">Экранированная вставить кода из файла - InsertCodeFromFile</a></li><li><a href="#Бесспорная вставить кода из файла - IndisputableInsertCodeFromFile">Бесспорная вставить кода из файла - IndisputableInsertCodeFromFile</a></li><li><a href="#Многостраничные кодблоки - MultiPageCode">Многостраничные кодблоки - MultiPageCode</a></li><li><a href="#Многострочные таблицы - `MultiLineTables`">Многострочные таблицы - `MultiLineTables`</a></li><li><a href="#Пока не реализовано">Пока не реализовано</a></li><ol><li><a href="#Выделения изображения">Выделения изображения</a></li><li><a href="#Последовательность действий">Последовательность действий</a></li><li><a href="#Описание UI виджетов">Описание UI виджетов</a></li></ol>
        </ol>
    </div>
    <script>
        function menu_hidden(){
    // Скрыть оглавление
    detail_menu.hidden=false;
    bt_show_menu.hidden=true;
    bt_hidden_menu.hidden=false;
    menu.style.height='50%';
}
function menu_show(){
    // Показать оглавление
   detail_menu.hidden=true;
   bt_show_menu.hidden=false;
   bt_hidden_menu.hidden=true;
   menu.style.height='50px';
}
function menu_is_hidden(){
    // Узнать скрыто ли оглавление
    return detail_menu.hidden
}
// Изначально скрываем кнопку показа оглавления
bt_show_menu.hidden = true;
(function (){
    // Переход к заголовку по нажатию элемент оглавления.
    document.querySelectorAll("#detail_menu li").forEach((e) => {
        e.onclick = ()=>{
          window.location.href  = e.children[0].href
        }
      }
    );
})()

    </script>
</div>
<pre><h1 id="Причина появления" class="MarkdownDRY StandardHeaders">Причина появления</h1>


![Привью](./doc/Превью.png)

`Markdown` хорош, опрятен, и не многословен, он как сын маминой подруги, среди
всех остальных языков разметки. В нашем кругу `Markdown` заслужил уважение тем
что он использует спец символы для разметки, а не этот ваш заморский говор. Так
как `Markdown` хорош, и существует достойные редакторы для него, мы решили не
создавать очередной велосипед, а создать из существующего - электро байк по
имени `MarkdownDRY`.

<div class="MarkdownDRY InsertCodeFromFile">
<div>Логотип `MarkdownDRY`</div>
<pre class="code"><code>&lt?xml version="1.0" encoding="utf-8"?&gt</code>
<code>&ltsvg width="340px" height="142px" viewBox="0 0 340 142" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"&gt</code>
<code>  &ltdefs&gt</code>
<code>    &ltpath d="M64.4397 0L314.442 0Q315.301 0 316.159 0.0421578Q317.017 0.0843156 317.872 0.16853Q318.727 0.252744 319.577 0.378811Q320.427 0.504879 321.27 0.672496Q322.112 0.840113 322.946 1.04888Q323.779 1.25764 324.601 1.50705Q325.424 1.75645 326.232 2.0459Q327.041 2.33535 327.835 2.66414Q328.629 2.99293 329.406 3.36028Q330.182 3.72762 330.94 4.13264Q331.698 4.53765 332.435 4.97936Q333.172 5.42106 333.886 5.89839Q334.6 6.37573 335.291 6.88754Q335.981 7.39935 336.645 7.94441Q337.309 8.48946 337.946 9.06645Q338.582 9.64344 339.19 10.251Q339.797 10.8585 340.374 11.4951Q340.951 12.1317 341.496 12.7959Q342.041 13.46 342.553 14.1501Q343.065 14.8402 343.542 15.5546Q344.02 16.269 344.461 17.0059Q344.903 17.7429 345.308 18.5006Q345.713 19.2583 346.08 20.035Q346.448 20.8117 346.776 21.6055Q347.105 22.3992 347.395 23.2082Q347.684 24.0171 347.934 24.8393Q348.183 25.6615 348.392 26.4949Q348.601 27.3284 348.768 28.171Q348.936 29.0137 349.062 29.8636Q349.188 30.7135 349.272 31.5685Q349.356 32.4235 349.399 33.2817Q349.441 34.1398 349.441 34.999L349.441 99.001Q349.441 99.8602 349.399 100.718Q349.356 101.576 349.272 102.432Q349.188 103.287 349.062 104.136Q348.936 104.986 348.768 105.829Q348.601 106.672 348.392 107.505Q348.183 108.338 347.934 109.161Q347.684 109.983 347.395 110.792Q347.105 111.601 346.776 112.395Q346.448 113.188 346.08 113.965Q345.713 114.742 345.308 115.499Q344.903 116.257 344.461 116.994Q344.02 117.731 343.542 118.445Q343.065 119.16 342.553 119.85Q342.041 120.54 341.496 121.204Q340.951 121.868 340.374 122.505Q339.797 123.141 339.19 123.749Q338.582 124.357 337.946 124.934Q337.309 125.511 336.645 126.056Q335.981 126.601 335.291 127.112Q334.6 127.624 333.886 128.102Q333.172 128.579 332.435 129.021Q331.698 129.462 330.94 129.867Q330.182 130.272 329.406 130.64Q328.629 131.007 327.835 131.336Q327.041 131.665 326.232 131.954Q325.423 132.244 324.601 132.493Q323.779 132.742 322.946 132.951Q322.112 133.16 321.27 133.327Q320.427 133.495 319.577 133.621Q318.727 133.747 317.872 133.831Q317.017 133.916 316.159 133.958Q315.301 134 314.442 134L64.4397 134Q63.5805 134 62.7224 133.958Q61.8642 133.916 61.0092 133.831Q60.1541 133.747 59.3043 133.621Q58.4544 133.495 57.6117 133.327Q56.769 133.16 55.9356 132.951Q55.1022 132.742 54.28 132.493Q53.4578 132.244 52.6489 131.954Q51.8399 131.665 51.0461 131.336Q50.2524 131.007 49.4757 130.64Q48.699 130.272 47.9413 129.867Q47.1835 129.462 46.4466 129.021Q45.7096 128.579 44.9953 128.102Q44.2809 127.624 43.5908 127.112Q42.9007 126.601 42.2365 126.056Q41.5724 125.511 40.9358 124.934Q40.2992 124.357 39.6916 123.749Q39.0841 123.141 38.5071 122.505Q37.9301 121.868 37.3851 121.204Q36.84 120.54 36.3282 119.85Q35.8164 119.16 35.3391 118.445Q34.8617 117.731 34.42 116.994Q33.9783 116.257 33.5733 115.499Q33.1683 114.742 32.8009 113.965Q32.4336 113.188 32.1048 112.395Q31.776 111.601 31.4866 110.792Q31.1971 109.983 30.9477 109.161Q30.6983 108.338 30.4895 107.505Q30.2808 106.672 30.1132 105.829Q29.9455 104.986 29.8195 104.136Q29.6934 103.287 29.6092 102.432Q29.525 101.576 29.4828 100.718Q29.4407 99.8602 29.4407 99.001L29.4407 34.999Q29.4407 34.1398 29.4828 33.2817Q29.525 32.4235 29.6092 31.5685Q29.6934 30.7135 29.8195 29.8636Q29.9455 29.0137 30.1132 28.171Q30.2808 27.3284 30.4895 26.4949Q30.6983 25.6615 30.9477 24.8393Q31.1971 24.0171 31.4866 23.2082Q31.776 22.3992 32.1048 21.6055Q32.4336 20.8117 32.8009 20.035Q33.1683 19.2583 33.5733 18.5006Q33.9783 17.7429 34.42 17.0059Q34.8617 16.269 35.3391 15.5546Q35.8164 14.8402 36.3282 14.1501Q36.84 13.46 37.3851 12.7959Q37.9301 12.1317 38.5071 11.4951Q39.0841 10.8585 39.6916 10.251Q40.2992 9.64344 40.9358 9.06645Q41.5724 8.48946 42.2365 7.94441Q42.9007 7.39935 43.5908 6.88754Q44.2809 6.37573 44.9953 5.89839Q45.7096 5.42106 46.4466 4.97936Q47.1835 4.53765 47.9413 4.13264Q48.699 3.72762 49.4757 3.36028Q50.2523 2.99293 51.0461 2.66414Q51.8399 2.33535 52.6489 2.0459Q53.4578 1.75645 54.28 1.50705Q55.1022 1.25764 55.9356 1.04888Q56.769 0.840113 57.6117 0.672496Q58.4544 0.504879 59.3042 0.378811Q60.1541 0.252744 61.0092 0.16853Q61.8642 0.0843156 62.7224 0.0421578Q63.5805 0 64.4397 0Z" id="path_1" /&gt</code>
<code>    &ltclipPath id="clip_1"&gt</code>
<code>      &ltuse xlink:href="#path_1" /&gt</code>
<code>    &lt/clipPath&gt</code>
<code>  &lt/defs&gt</code>
<code>  &ltg id="Группа-2" transform="translate(-9.440674 0)"&gt</code>
<code>    &ltg id="Группа"&gt</code>
<code>      &ltg id="Прямоугольник-2"&gt</code>
<code>        &ltuse stroke="none" fill="#0B0205" xlink:href="#path_1" fill-rule="evenodd" /&gt</code>
<code>        &ltg clip-path="url(#clip_1)"&gt</code>
<code>          &ltuse xlink:href="#path_1" fill="none" stroke="#808080" stroke-width="2" /&gt</code>
<code>        &lt/g&gt</code>
<code>      &lt/g&gt</code>
<code>      &ltg stroke="#000000" stroke-width="1" id="Markdown" fill="#DCCAE9" transform="translate(0 22.263092)"&gt</code>
<code>        &ltpath d="M70.4543 31.1783L66.675 31.1783L66.675 57.3609L69.637 57.3609L69.637 37.4713L69.8918 37.4713L78.0745 57.3609L80.9397 57.3609L89.1223 37.4713L89.3772 37.4713L89.3772 57.3609L92.3391 57.3609L92.3391 31.1783L88.5598 31.1783L79.6653 52.9137L79.3577 52.9137L70.4543 31.1783ZM131.972 31.1783L131.972 57.3609L134.986 57.3609L134.986 50.0133L137.096 48.0533L144.452 57.3609L148.284 57.3609L139.372 46.1109L147.669 37.7262L143.942 37.7262L135.347 46.4713L134.986 46.4713L134.986 31.1783L131.972 31.1783ZM158.975 57.774Q156.523 57.774 154.642 56.526Q152.761 55.2779 151.697 53.0016Q150.634 50.7164 150.634 47.5963Q150.634 44.5025 151.697 42.2262Q152.761 39.9498 154.651 38.7105Q156.54 37.4713 159.028 37.4713Q160.944 37.4713 162.06 38.1041Q163.176 38.7369 163.774 39.5367Q164.371 40.3365 164.697 40.8463L164.96 40.8463L164.96 31.1783L167.975 31.1783L167.975 57.3609L165.057 57.3609L165.057 54.3463L164.697 54.3463Q164.371 54.8824 163.756 55.6998Q163.141 56.5084 161.998 57.1412Q160.864 57.774 158.975 57.774ZM118.574 57.3609L118.574 37.7262L121.492 37.7262L121.492 40.6881L121.694 40.6881Q122.23 39.2291 123.637 38.3238Q125.043 37.4185 126.809 37.4185Q127.143 37.4185 127.636 37.4361Q128.137 37.4449 128.391 37.4713L128.391 40.5387Q128.242 40.4947 127.697 40.4156Q127.152 40.3365 126.555 40.3365Q124.401 40.3365 122.995 41.6373Q121.589 42.9381 121.589 44.9332L121.589 57.3609L118.574 57.3609ZM100.664 57.1148Q102.184 57.818 104.056 57.818Q105.77 57.818 106.957 57.3082Q108.143 56.7984 108.855 56.0689Q109.576 55.3394 109.883 54.6978L110.033 54.6978L110.033 57.3609L113.056 57.3609L113.056 44.4234Q113.056 42.0855 112.283 40.6969Q111.518 39.2994 110.358 38.6139Q109.207 37.9195 107.967 37.6998Q106.737 37.4713 105.788 37.4713Q104.311 37.4713 102.782 37.8756Q101.253 38.2711 99.9694 39.2818Q98.6862 40.2838 97.9128 42.068L100.778 43.0963Q101.279 42.024 102.501 41.0748Q103.731 40.1256 105.893 40.1256Q107.976 40.1256 109.005 41.1803Q110.033 42.2262 110.033 44.1158L110.033 44.2213Q110.033 44.9508 109.514 45.2496Q109.005 45.5396 107.88 45.6627Q106.763 45.7769 104.97 46.0055Q103.608 46.19 102.255 46.4889Q100.91 46.7877 99.7936 47.3941Q98.6862 47.9918 98.0182 49.0465Q97.3503 50.1012 97.3503 51.7887Q97.3503 53.7047 98.2467 55.0582Q99.1432 56.4029 100.664 57.1148ZM177.217 56.5084Q179.221 57.774 181.884 57.774Q184.538 57.774 186.542 56.5084Q188.546 55.2428 189.662 52.9664Q190.778 50.69 190.778 47.649Q190.778 44.5728 189.662 42.2877Q188.546 40.0025 186.542 38.7369Q184.538 37.4713 181.884 37.4713Q179.221 37.4713 177.217 38.7369Q175.222 40.0025 174.097 42.2877Q172.98 44.5728 172.98 47.649Q172.98 50.69 174.097 52.9664Q175.222 55.2428 177.217 56.5084ZM227.645 57.3609L227.645 45.5484Q227.645 42.982 229.069 41.5846Q230.501 40.1783 232.663 40.1783Q234.755 40.1783 235.959 41.4791Q237.163 42.7711 237.163 45.0914L237.163 57.3609L240.178 57.3609L240.178 44.8805Q240.178 41.1275 238.341 39.2994Q236.504 37.4713 233.534 37.4713Q231.301 37.4713 229.895 38.3853Q228.489 39.2994 227.803 40.7935L227.548 40.7935L227.548 37.7262L224.63 37.7262L224.63 57.3609L227.645 57.3609ZM193.851 37.7262L197.015 37.7262L201.26 52.7555L201.471 52.7555L205.664 37.7262L208.88 37.7262L213.02 52.7115L213.231 52.7115L217.476 37.7262L220.64 37.7262L214.664 57.3609L211.693 57.3609L207.395 42.2789L207.096 42.2789L202.798 57.3609L199.828 57.3609L193.851 37.7262ZM159.379 55.0582Q162.104 55.0582 163.554 52.9752Q165.004 50.8834 165.004 47.5435Q165.004 44.2477 163.572 42.2174Q162.148 40.1783 159.379 40.1783Q157.463 40.1783 156.189 41.1627Q154.923 42.1383 154.29 43.8082Q153.657 45.4693 153.657 47.5435Q153.657 49.6353 154.299 51.3492Q154.949 53.0543 156.215 54.0562Q157.489 55.0582 159.379 55.0582ZM185.206 54.0299Q183.905 55.0582 181.884 55.0582Q179.862 55.0582 178.553 54.0299Q177.252 52.9928 176.628 51.3053Q176.004 49.6178 176.004 47.649Q176.004 45.6803 176.628 43.984Q177.252 42.2789 178.553 41.233Q179.862 40.1783 181.884 40.1783Q183.905 40.1783 185.206 41.233Q186.507 42.2789 187.131 43.984Q187.764 45.6803 187.764 47.649Q187.764 49.6178 187.131 51.3053Q186.507 52.9928 185.206 54.0299ZM107.537 54.4078Q106.306 55.1109 104.513 55.1109Q102.712 55.1109 101.543 54.3111Q100.374 53.5113 100.374 51.9381Q100.374 50.7867 100.989 50.1187Q101.613 49.4508 102.624 49.1168Q103.643 48.774 104.821 48.6158Q105.304 48.5543 106.087 48.4576Q106.878 48.3609 107.713 48.2291Q108.556 48.0885 109.198 47.9039Q109.848 47.7193 110.033 47.4908L110.033 50.2506Q110.033 51.481 109.4 52.5973Q108.767 53.7047 107.537 54.4078Z" /&gt</code>
<code>      &lt/g&gt</code>
<code>    &lt/g&gt</code>
<code>    &ltg stroke="#000000" stroke-width="1" id="DRY" fill="#9356A0" transform="translate(154.44067 42)"&gt</code>
<code>      &ltpath d="M106.432 38.6992L98.3551 38.6992L98.3551 12.5166L106.793 12.5166Q110.598 12.5166 113.305 14.0811Q116.021 15.6455 117.463 18.5723Q118.913 21.4902 118.913 25.5596Q118.913 29.6465 117.454 32.5996Q115.995 35.5439 113.209 37.126Q110.423 38.6992 106.432 38.6992ZM124.23 38.6992L124.23 12.5166L133.072 12.5166Q136.139 12.5166 138.108 13.5625Q140.077 14.5996 141.026 16.4189Q141.975 18.2295 141.975 20.5498Q141.975 23.1514 140.78 25.0938Q139.584 27.0273 137.08 27.8799L142.995 38.6992L139.312 38.6992L133.792 28.46Q133.467 28.4688 133.125 28.4688L127.394 28.4688L127.394 38.6992L124.23 38.6992ZM148.621 12.5166L144.991 12.5166L154.448 27.9062L154.448 38.6992L157.621 38.6992L157.621 27.9062L167.078 12.5166L163.448 12.5166L156.188 24.7422L155.881 24.7422L148.621 12.5166ZM101.519 35.8867L106.23 35.8867Q111.099 35.8867 113.472 33.1182Q115.845 30.3496 115.845 25.5596Q115.845 20.8047 113.516 18.0713Q111.187 15.3291 106.582 15.3291L101.519 15.3291L101.519 35.8867ZM127.394 25.6123L133.019 25.6123Q136.166 25.6123 137.51 24.2588Q138.855 22.8965 138.855 20.5498Q138.855 18.1768 137.501 16.7529Q136.157 15.3291 132.975 15.3291L127.394 15.3291L127.394 25.6123Z" /&gt</code>
<code>    &lt/g&gt</code>
<code>  &lt/g&gt</code>
<code>&lt/svg&gt</code>
</pre>
</div>


---
Немного искренности от автора: Это документация написана в юмористическом стили,
чисто, для того чтобы поднять настроения свои товарищам по клавиатуре.
Кого-нибудь конечно будет серьезная документация, и стабильные ветки, и об этом
событии, первыми, вы сможете узнать в группе `MDDRY`, там же вы можете накидать
багов связанные с `MDDRY`, вмести свои предложения для новых `ФИЧ`. Если вы
хотите выразить свое неудержимое негативное мнение, то можете это сделать
группу `НЕ_ЛЮБЛЮ_MDDRY`.

---

Про лицензию: `MarkdownDRY` не имеет ни какой лицензии, и не имеет авторского
права, юзайти его в своё удовольствие, и если хотите, делитесь впечатлениями ;)

![](./doc/License.png)


<h1 id="Какие фичи предлагает MarkdownDRY ?" class="MarkdownDRY StandardHeaders">Какие фичи предлагает MarkdownDRY ?</h1>


Начнем с того что `MarkdownDRY` как раз имеет такое название, из-за того что
следует принципу разработки
`Don’t repeat yourself (DRY; с англ «не повторяйся»)` и все его фичи направлены
во имя этого принципа.

Также, следовательно, из названия `MarkdownDRY` совместим с `Markdown` и эта
связь не только синтаксическая, но и ментальная. Он такой же простой, и с ним
справиться любая домохозяйка.

Вот изображение которые объясняет обратную совместимость.

![](./doc/ОбратнаяСовместимость.png)


<h2 id="Список фич" class="MarkdownDRY StandardHeaders">Список фич</h2>



<h3 id="Переменные - `Vars`" class="MarkdownDRY StandardHeaders">Переменные - `Vars`</h3>


Вот что думаю - авторы не любят повториться, а читатели любят когда им,
повторяют, и это безответная любовь сводиться к тому что документация похожа на
крысиную нору. Куски информации раскиданы по всему тексту, читатель забывает
важный аспект, совершает ошибку, ищет её решение по всему тексту, напрягает
извилины, ну а автор не хочет дублировать текст везде, где это нужно, и максимум
дает ссылку на главу в котором где-то написан этот важный аспект.

Все могло бы быть взаимно, если бы автор напомнил читателю важные аспекты,
везде, где это нужно, но не при это без ручного дублирование текста.

Надеюсь я доказал зачем нужны переменные в языке разметки ?

![](./doc/мемVars.png)


<h4 id="Синтаксис" class="MarkdownDRY StandardHeaders">Синтаксис</h4>


Переменные в `MarkdownDRY` похожи на переменные в ЯП, у них есть

- Инициализации. (Похоже на список ссылок которые указывают на какие-то данные)

  <pre>79988d98d7492fa813526f3773a52276</pre>

- Обращение. (Это просто красивый и не занятый шаблон)

  <pre>95967c7df81820abd59a903da526f734</pre>

- Область видимости. Инициализациия переменных и обращения к ним, должно быть в
  одном файле и в каком-нибудь заголовке(
  если вам нужна переменная из другого файла, то подумайте, а может вам лучше
  объединить эти файлы, или же использовать `Ссылочные блоки`). Поиск переменных
  производиться при формировании кеша заголовков который создается при сборке
  файла.

  Алгоритм поиска - Начинаем искать все заголовки в файле, встречается нам
  заголовок, из него мы берем название, уровень, и весь текст от начало этого
  заголовка и до следующего. Весь текст заголовка парсим и ищем инициализацию
  переменных, если находим их то заносим в кеш текущего заголовка, после этого
  ищем обращения к переменным, если они есть то начинаем поиск сначала в текущем
  заголовке, потом в ранее инициализированных заголовков, но не во всех, а
  только в тех что, выше текущего.

  **В общем не парьтесь, глянете на примеры, попробуйте втянутся, и сразу
  поймете что к чему тут.**

- Переопределение. Тут все по классике, возьмется инициализированная переменная,
  которая ближе всего к месту обращения.


<h4 id="Пример" class="MarkdownDRY StandardHeaders">Пример</h4>


Нам нужно написать документацию для реляционной таблицы. Мы можем облегчить себе
работу, но не жизнь, используя переменные.

<pre>2e17728c95c2ff9157334129b28724af</pre>

---

Итог:

> Обратим внимание, что обращение к не инициализированной переменной `[=IS_LONELY_DOG]` останется без изменений.

![](./doc/Vars.png)


<h3 id="Ссылочный блок - `ReferenceBlock`" class="MarkdownDRY StandardHeaders">Ссылочный блок - `ReferenceBlock`</h3>


Ссылочные блоки — они нужны, чтобы делать ссылки на блоки текста. Вы можете где
угодно инициализировать ссылочный блок, и где угодно получить его данные. Имена
ссылочных блоков должны быть уникальны, они похоже на теги в `Markdown` ,
например если вы будете использоваться редактор `Obsidian` то в нём есть
автокомплит и поиск по тегам, эту возможность можно также использовать для
ссылочных блоков.

![](./doc/мемReferenceBlock.png)


<h4 id="Синтаксис" class="MarkdownDRY StandardHeaders">Синтаксис</h4>


Инициализация:

<pre>7f90da9fb42b18f75f1201326c434f29</pre>

---

Обращение:

<pre>6e4d506572fb33253c156dab26dac3a5</pre>


<h4 id="Пример" class="MarkdownDRY StandardHeaders">Пример</h4>


Так как `MarkdownDRY` должен быть настолько простым, чтобы с ним смогла
справиться любая домохозяйка, сделаем пример для домохозяйки.

Наша гипотетическая домохозяйка, решили переписать сою кулинарную книгу рецепты
в электронный вид, чтобы поделиться своими знаниями на форуме с другими
домохозяйками. Она решила выбрать язык разметки `MarkdownDRY`, и это был её
осознанный выбор. Она знала что в нем есть ссылочные блоки, и это было ключевым
моментом в её решение.

Она использовала их, для того чтобы напоминать другим домохозяйкам, которые
возможно еще не совсем опытны, на важные аспекты в кулинарии.

Вот пример как она их использовала.

<pre>6135b2bb0bba01a65372ad4bc11be162</pre>

---
<pre>4d4e8160895f4fa3b7f64e480b5419c1</pre>


<h3 id="Раскрываемые блок - `DropdownBlock`" class="MarkdownDRY StandardHeaders">Раскрываемые блок - `DropdownBlock`</h3>


Ладно, из-за моих плоских шутейк большая часть аудитории уже ушла, а это значит
что ты, мой читатель, который дошел до этой строки, особенный! Не такой, как
все. Поэтому сделаю тебе подарок - буду писать только суть, без демагогии.

Цель `раскрываемого блока`, скрыть излишнюю подробность при просмотре документа.

Принцип работы `DropdownBlock`

![](doc/мемDropdownBlock.png)


<h4 id="Синтаксис" class="MarkdownDRY StandardHeaders">Синтаксис</h4>


- Шаблон

<pre>7d799edc9fcc937976623ba246d84ed4</pre>


<h4 id="Пример" class="MarkdownDRY StandardHeaders">Пример</h4>


<pre>a7667387a0d3ec899e97e45e8a70da26</pre>

---
![](./doc/DropdownBlock.png)


<h3 id="Выделение блоков - `HighlightBlock`" class="MarkdownDRY StandardHeaders">Выделение блоков - `HighlightBlock`</h3>



<h4 id="Синтаксис" class="MarkdownDRY StandardHeaders">Синтаксис</h4>


- `!` Пример
- `!!` Информирование
- `!!!` Предупреждение


<h4 id="Пример" class="MarkdownDRY StandardHeaders">Пример</h4>


<pre>b985e602b27050736098a89d0d735173</pre>

---
![](./doc/HighlightBlock.png)


<h3 id="Фото Галерея - `PhotoGallery`" class="MarkdownDRY StandardHeaders">Фото Галерея - `PhotoGallery`</h3>


Группировать фотки это круто. Килир-фича когда вам нужно показать
последовательность действий использования UI, через фото.


<h4 id="Синтаксис" class="MarkdownDRY StandardHeaders">Синтаксис</h4>


Вот так все просто. Делаем список, даем ему имя, и в нем делаем под список со
ссылками на фото.

<pre>b97e85a081edbe6de65594931c3dbff5</pre>


<h4 id="Пример" class="MarkdownDRY StandardHeaders">Пример</h4>


Перед нами стоит ответственная задача, нужно собрать галерею из негодных и
годных мемов.

Решить эту задачу мы можем так

<pre>669d76149739056f86771f0722020670</pre>
---

![](./doc/PhotoGallery.png)


<h3 id="Математический размах - `MathSpan`" class="MarkdownDRY StandardHeaders">Математический размах - `MathSpan`</h3>


А это уже не шутки ... серьезно ! У пользователей `MarkdownDRY` всегда будет под
рукой `SymPy`.

А это значит, что юзеры могут прямо в документации - рассчитывать траекторию
движения космического аппарата по просторам вселено, с учетом гравитационных
маневров около массивных тел. Или же, считать потраченные минуту на задачи
заказчиков.

![](./doc/мемMathSpan.png)


<h4 id="Синтаксис" class="MarkdownDRY StandardHeaders">Синтаксис</h4>


<pre>2cfd89a17a91ae3f61946aad69f05e6d</pre>


<h4 id="Пример" class="MarkdownDRY StandardHeaders">Пример</h4>


<pre>bee8122c5086fd8eefa1fdf48c55a95c</pre>

![](./doc/MathSpan_Simpl.png)

---

(Комбинируем с `Vars`):

<pre>165605f721d3b3a9c5867e1575da22b1</pre>

![](./doc/MathSpan.png)

---


<h3 id="Скрытые заголовки - `HiddenHeaders`" class="MarkdownDRY StandardHeaders">Скрытые заголовки - `HiddenHeaders`</h3>


Бывает нужно, создать заголовок, для того чтобы сослаться на него, и мы не хотим
чтобы он попадал в оглавление документа. Для этого есть `HiddenHeaders`


<h4 id="Синтаксис" class="MarkdownDRY StandardHeaders">Синтаксис</h4>


<pre>c0f39a6f9b9cdd9e54f92a30d201a0b0</pre>


<h4 id="Пример" class="MarkdownDRY StandardHeaders">Пример</h4>


Вот типичная документация проекта, из неё нам нужно скрыть заголовки которые
подробно описывать ошибки. В оглавление они будут занимать много лишнего места,
а вот ссылаться на эти заголовки в других местах документации будет полезно.
Поэтому воспользуемся `HiddenHeaders`


<pre>17ed52abaab942fe5f1b58fb901b2ef1</pre>

---

В итоге:
![](./doc/HiddenHeaders.png)


<h3 id="Ссылки на структурные элементы кода - LinkCode" class="MarkdownDRY StandardHeaders">Ссылки на структурные элементы кода - LinkCode</h3>


Полноценна эта фича, пока доступна только для `Python`, но вы можете
использовать универсальный вариант такой как `УникальныйЯкорь` для любого
формата данных.

Суть заключается в том, что вы можете делать ссылки на элементы кода такие как:

- `Класс`
- `Класс.Метод`
- `Класс.Атрибут`
- `Функция`
- `Переменная`
- `УникальныйЯкорь` отдельная глава *


<h4 id="Синтаксис" class="MarkdownDRY StandardHeaders">Синтаксис</h4>


<pre>a98549a72f41267c8eaa045510143c12</pre>


<h4 id="УникальныйЯкорь" class="MarkdownDRY StandardHeaders">УникальныйЯкорь</h4>


Суть в том что мы заключаем нужны текст в "блок", а потом ссылаемся на него. Эта
фича доступна во всех форматах.

Ссылка на Уникальный Якорь

<pre>d33c0f8e8cdad9b980e365552425d42b</pre>

Создание якоря

<pre>df7265f069479d7a642b7777892bbb3b</pre>


<h4 id="Пример ссылки на локальные файлы" class="MarkdownDRY StandardHeaders">Пример ссылки на локальные файлы</h4>


Есть файл `main.py`, вот его исходник

```

<h1 id="Обычная функция" class="MarkdownDRY StandardHeaders">Обычная функция</h1>

from functools import wraps


class NeClass:
    name: str = __file__

    def __call__(self, *args, **kwargs):
        """Доки"""
        return self.name


def another_function(func):
    """
    Функция которая принимает другую функцию
    """

    @wraps(func)
    def wrapper():
        """
        Оберточная функция
        """
        # Химичим>
        val = "The result of %s iSs %ss" % (func(), eval(func()))
        # <Химичим
        return val

    return wrapper


@another_function
def a_function():
    """Обычная `функция`"""
    return "1+1"


@another_function
def a_function():
    """Обычная `функция`"""
    return "1+2"


@another_function
def a_function():
    """Обычная `функция`"""
    return "1+3"


@another_function
def a_function():
    """Обычная `функция`"""
    return "1+4"


@another_function
def a_function():
    """Обычная `функция`"""
    return "1+5"


__name__ = '__main__'

if __name__ == "__main__":
    print(a_function.__name__)  # a_function
    print(a_function.__doc__)  # Обычная функция

```

---

Будем делать ссылки на все возможные варианты элементов кода:

<pre>c92a81a5cf1724a2e6ae83c79b4cd356</pre>

---
В итоге:

![](./doc/LinkCode.png)


<h4 id="Пример ссылки на файл из интернета" class="MarkdownDRY StandardHeaders">Пример ссылки на файл из интернета</h4>


У нас есть файл на `GitGist` или на `GitHub`, или откуда угодно. И нам нужно
сделать ссылку на него. Это делается точно так же как и на локальный файл. В
этом случае исходный код будет загружен при сборке `MarkdownDRY`. Если вам нужно
обновить исходный код на актуальный вариант из интернета, то пересоберите
проект. Ссылки похожие, теперь место пути указываем `URL`.

---

Вот реальный пример, ссылаться мой код из `GitGist`:

<pre>695514e2631a927775813dc4fa62dd0b</pre>

---
В итоге:

![](./doc/LinkCode_NET_GitGist.png)


<h3 id="Экранированная вставить кода из файла - InsertCodeFromFile" class="MarkdownDRY StandardHeaders">Экранированная вставить кода из файла - InsertCodeFromFile</h3>


Суть в том что мы можем вставлять текст из другого файла, в
результирующий `HTML` файл. В отличие от `IndisputableInsertCodeFromFile` в `md`
файл он вставиться.


<h4 id="Синтаксис" class="MarkdownDRY StandardHeaders">Синтаксис</h4>


Вставить исходный код из файла в `MarkdownDRY`:

<pre>02870f4b5bc5497ae6b9b119cb98505f</pre>


<h4 id="Пример" class="MarkdownDRY StandardHeaders">Пример</h4>


Вот файл, который будем вставлять, назовем его `./raw/regex_mem.txt`

```text
(?P<class>(class[\t ]+.+[\t ]*)(?:\((.+)\))?:\n(?:\t+| {1,4}.*\n+)+)|
(?P<func>(def[\t ]+.+[\t ]*)\((.+):\n(?:(?:\t+| {1,4}).*\n+)+)|
(?:\A|\n)\s*(?P<var>.+[\t ]*=.+)
```

---

Пример использование

<pre>de3efbbf3e91f3f5d8605c55c4813edc</pre>

---

В итоге:

![](./doc/InsertCodeFromFile.png)


<h3 id="Бесспорная вставить кода из файла - IndisputableInsertCodeFromFile" class="MarkdownDRY StandardHeaders">Бесспорная вставить кода из файла - IndisputableInsertCodeFromFile</h3>


`Бесспорная вставка` подразумевает что текст из файла вставиться без всякого
форматирования в файл `md` который после будет обработан `MarkdownDRY`. Вообще
это самый первый этап конвертации, в нем мы можем просто соединять
разные `markdown` файлы в один, вставлять текст для примеров из других файлов, и
делать что нраву. Но помните что - "с большой силой, приходит большая
ответственность"

Эта фича уже используется в этой документации, для вставки примеров. Я думаю это
очень хорошо когда примеры из документации являются также и данными для
тестирования, если мы что-то поменяли в логике программы, то мы поправим и текст
тестов. А так как примеры берутся из тестовых данных, то они будут всегда
актуальны.


<h4 id="Синтаксис" class="MarkdownDRY StandardHeaders">Синтаксис</h4>


![](./doc/IndisputableInsertCodeFromFile.png)

> `Расширение` - лучше не указывать бинарные файлы для вставки. Но если душа просит, то ограничений на это нет.


<h4 id="Пример" class="MarkdownDRY StandardHeaders">Пример</h4>


Мы разработали скрипт для парсинга `env` файлов, вещь полезная, и важная,
поэтому давайте напишем к ней документацию. Самая лучшая документация, это там
где меньше написано и больше показано, так что давайте сразу приведем пример,
как скрипт работает.

<pre>25fbb766e84521e7cebdcf0b45e47f06</pre>

После парсинга этого файла получим `Python` словарь:

```
!![](../out/IndisputableInsertCodeFromFile.py)
```

Код скрипта:

```
!![](./raw/ENV_IndisputableInsertCodeFromFile.py)
```

</pre>

---
В итоге:

<pre>edcb9fb74f181162aeed4b0201d7a0bb</pre>

После парсинга этого файла получим `Python` словарь:

```
res = {
    'DJANGO_SECRET_KEY': '{{secret_key}}',
    'NAME_PROJ': '{{project_name}}',
    'DEBUG': 'true',
    'WORK_DIR': '/usr/src/{{project_name}}',
    'PATH_ENV': './__env.env',
    'EXTERNAL_WEB_PORT': '8081',
    'NGINX_PORT': '8080',
    'POSTGRES_DB': 'postgres',
    'POSTGRES_USER': 'postgres',
    'POSTGRES_PASSWORD': 'postgres',
    'POSTGRES_HOST': 'db',
    'POSTGRES_PORT': '5432',
    'POSTGRES_VOLUMES': './db/pg_data'
}

```

Код скрипта:

```
import os
import re
from pprint import pprint


def read_env_file_and_set_from_venv(file_name: str):
	"""Чтение переменных окружения из указанного файла, и добавление их в ПО `python`"""
	with open(file_name, 'r', encoding='utf-8') as _file:
		res = {}
		for line in _file:
			tmp = re.sub(r'^#[\s\w\d\W\t]*|[\t\s]', '', line)
			if tmp:
				k, v = tmp.split('=', 1)
				# Если значение заключено в двойные кавычки, то нужно эти кавычки убрать
				if v.startswith('"') and v.endswith('"'):
					v = v[1:-1]

				res[k] = v
	os.environ.update(res)
	pprint(res)

```

</pre>

---------------


<h3 id="Многостраничные кодблоки - MultiPageCode" class="MarkdownDRY StandardHeaders">Многостраничные кодблоки - MultiPageCode</h3>



<h4 id="Синтаксис" class="MarkdownDRY StandardHeaders">Синтаксис</h4>


<pre>8b88862de4da73e590108103aa49faf6</pre>

- `[КраткоеИмяДляБлока]`- Название блока с кодом

- `{ВыделитьСтроки}` - Выделение строк, можно указывать конкретные строки через
  запятую(`{Число_1,Число_2}`)  или указывать диапазонны через
  тире `{Число_1-Число_2}`. Эти два варианта можно
  комбинировать.`{Число_1-Число_2,Число_3-Число_4,Число_5,Число_6`


<h4 id="Пример" class="MarkdownDRY StandardHeaders">Пример</h4>


<pre>8164911fc4888e5d6fe8dd220f11d956</pre>

---
В итоге:

![](./doc/MultiPageCode.png)


<h3 id="Многострочные таблицы - `MultiLineTables`" class="MarkdownDRY StandardHeaders">Многострочные таблицы - `MultiLineTables`</h3>


В Многострочные таблицы можно писать

- Переносы строк
- Фото
- Блоки с кодом
- Ссылочные блоки

Что еще дозволено:

- Доступны агрегатные функции `avg(),sum()`для диапазона ячейка.
- Разрешено обращаться к данным указанных ячеек и производить с ними
  арифметику (с использованием `SymPy`). Я не понимаю в чем прикол использовать
  английский алфавит для столбцов, поэтому у нас будут все равны - числовые
  столбцы - числовые строки, и начало у них с единицы.


<h4 id="Синтаксис" class="MarkdownDRY StandardHeaders">Синтаксис</h4>


Для того чтобы таблица стала многострочной нужно указать в следующем столбце 3
тире подряд `-`. И так нужно делать для каждого столбца.

Обращение к ячейкам:

<pre>9246ac312d25569ff28c8d4781f4e9b0</pre>

Вызов агрегатной функции: поговорка, чтобы запомнить порядок аргументов (Слева
на право, Сверху вниз)

<pre>ecc9393ee78f21e71f7769f363ba872f</pre>


<h4 id="Пример" class="MarkdownDRY StandardHeaders">Пример</h4>


<pre>81d2a498ac9119d2391fd697beb9d52d</pre>

---
В итоге:

![](./doc/MultiLineTables.png)


<h3 id="Пока не реализовано" class="MarkdownDRY StandardHeaders">Пока не реализовано</h3>



<h4 id="Выделения изображения" class="MarkdownDRY StandardHeaders">Выделения изображения</h4>


Нарисовать квадрат(`[#]`)  на изображение
<pre>afe6e0baed15a38627a6177cd394e01f</pre>

- 1 = ВерхняяЛеваТочка
- 2 = ВерхняяПраваяТочка
- 3 = НижняяЛеваТочка
- 4 = НижняяПраваяТочка

Нарисовать много квадратов(`[#]`)  на изображении - нужно перечислить через
запятую
<pre>9010111b924761fdc4bc7de13423943c</pre>

---

Нарисовать стрелку(`[^]`) на изображение
<pre>34ba1f587ce71d4b888c4b48bff44e57</pre>

- 1 = ВерхняяЛеваТочка
- 2 = ВерхняяПраваяТочка
- 3 = НижняяЛеваТочка
- 4 = НижняяПраваяТочка

Нарисовать много стрелок(`[^]`)  на изображении - нужно перечислить через
запятую
<pre>7153bb1e38d5aaf8532e9fb0018ab07b</pre>
---

Комбинируем, квадраты и стрелку.
<pre>b50ab47ee14a63d1645b369abd1bfa62</pre>


<h4 id="Последовательность действий" class="MarkdownDRY StandardHeaders">Последовательность действий</h4>


Синтаксис:
<pre>00f9e93b925523ea5efc378c14b311ff</pre>

Если вам нужно вставить фото для наглядного описания действий то:

<pre>37197b21684937ee78cd5fe8a872ed22</pre>

---
<pre>887e6a1c594a9d3bebe8888581a73a55</pre>
---


<h4 id="Описание UI виджетов" class="MarkdownDRY StandardHeaders">Описание UI виджетов</h4>


Для нестандартных оформлений нужно использовать html теги, по
типу `dry_ИмяПлагины`. В данном случае `dry_ui`.

Синтаксис

<pre>052c7bd31d1d8627e46db8cdf49a9967</pre>

</pre>

<script>
/* -------------------------- Логика для LinkCode -------------------------- */
// Переменная для хранения исходного кода из файлов. Храниться в кодировки UTF-8, для экранирования спец символов
LinkSourceCode={

};
function AddEventLinkCode() {
    /* Добавление обработка нажатий на ссылки */

    let elm = document.querySelectorAll(".MarkdownDRY.LinkCode");
    elm.forEach((e) => {
        e.addEventListener("click", () => {
            DisplayLinkCode(e);
        });
    });
}
AddEventLinkCode();
function DisplayLinkCode(_elem) {
    /* Показать всплывающие окно с исходным кодом */

    // Устанавливаем в заголовок всплывающего окна, название ссылки которая вызвала это окно
    LinkCodeName.textContent=_elem.textContent

    // Установить путь к файлу или ссылку в выплывающие окно
    LinkCodeWindowPath.textContent=_elem.getAttribute('file')

    // Получаем элемент в котором будет исходный текст из файла
    let _el = document.querySelector('#LinkCodeWindowBody')
    const source_text = LinkSourceCode[_elem.getAttribute('file')]
    if (source_text) {
        // --- Вставка кода в всплывающие окно --- //
        _el.innerHTML = toTag(source_text, 'code', 0, 0, 0, true);
        // --- Выделение кода --- //
        const char_start = _elem.getAttribute('char_start');
        const char_end = _elem.getAttribute('char_end');
        if (char_start > 0 && char_end > 0) {
            // Выделяем текст согласно диапазону из ссылки. Если конечно такой диапазон есть.
            // Его может не быть если ссылка указывает на несуществующий элемент кода.
            const highlight_text = toTag(toTag(_el.textContent.slice(char_start, char_end), 'span', 0, 0, 0, true), 'code', true);
            // Собираем результат, и записываем его в тело всплывающего окна
            _el.innerHTML = `${toTag(_el.textContent.slice(0, char_start), 'code', null, null, true, true)}` +
                `${highlight_text}` +
                `${toTag(_el.textContent.slice(char_end, _el.innerHTML.length), 'code', null, true, null, true)}`
        }
        // ------------------------------------------------------------- //
    }
    // Делаем видимым окно
    LinkCodeWindow.style.display = 'block';
    // Перебираем все строки и ищем начало выделение кода
    for (let _e of _el.childNodes) {
        if (_e.childNodes.length > 0 && _e.childNodes[0].tagName === "SPAN") {
            // Плавная прокрутка к первому выделенному блоку
            _e.scrollIntoView({ behavior: 'smooth'});
            break;
        }
    }
}
function toTag(text, tag, is_skip_first_last, skip_first, skip_last, escaping) {
    /*Поместить текст в теги

    is_skip_first_last=true - Если нужно пропустить первый и последний тег.
    escaping=true -  Экранирование треугольных скобок, если этого не сделать то метод `innerHTML` скроет текст в скобках.
    */

    let list = [];
    if (escaping) {
        text = text.replace(/</g,'&lt').replace(/>/g,'&gt');
    }
    const tmp = text.split('\n');

    if (!is_skip_first_last) {
        if (skip_last) {
            tmp.slice(0, -1).forEach(
                (_e) => {
                    list.push(`<${tag}>${_e}</${tag}>`);
                }
            )
            list.push(`<${tag}>${tmp[tmp.length - 1]}`)
        } else if (skip_first) {
            list.push(`</${tag}>${tmp[0]}`)
            tmp.slice(1, -1).forEach(
                (_e) => {
                    list.push(`<${tag}>${_e}</${tag}>`);
                }
            )
        } else {
            tmp.forEach(
                (_e) => {
                    list.push(`<${tag}>${_e}</${tag}>`);
                }
            )
        }
    } else {
        // Если нужно пропустить первый и последний тег
        list.push(tmp[0])
        tmp.slice(1).forEach(
            (_e) => {
                list.push(`<${tag}>${_e}</${tag}>`);
            }
        )
        // list.push(tmp[tmp.length - 1])
    }
    return list.join('\n');
}
function OnHide(_event) {
    /* Скрыть выплывающие окно при нажатии вне его */

    console.log('OnHide');
    if (_event.target.id === 'LinkCodeWindow') {
        LinkCodeWindow.style.display = 'none'
    }
}

/* --------------------------------------------------------------------------------------------- */
</script>
