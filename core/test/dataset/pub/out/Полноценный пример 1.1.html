<head>
    <meta charset="UTF-8">
    <link href="../../../../../www/css/bootstrap-5.1.3-dist/main.css" rel="stylesheet">
    <script src="../../../../../www/css/bootstrap-5.1.3-dist/main.js"></script>
    <link rel="stylesheet" href="../../../../../www/css/main.min.css">
    <link rel="stylesheet" href="../../../../../www/css/plugin.css">
</head>


# Причина появления

![Привью](./doc/Превью.png)

`Markdown` хорош, опрятен, и не многословен, он как сын маминой подруги, среди
всех остальных языков разметки. В нашем кругу `Markdown` заслужил уважение тем
что он использует спец символы для разметки, а не этот ваш заморский говор. Так
как `Markdown` хорош, и существует достойные редакторы для него, мы решили не
создавать очередной велосипед, а создать из существующего - электро байк по
имени `MarkdownDRY`.

![Логотип `MarkdownDRY`](./doc/MarkdownDRY.svg)


---
Немного искренности от автора: Это документация написана в юмористическом стили,
чисто, для того чтобы поднять настроения свои товарищам по клавиатуре.
Кого-нибудь конечно будет серьезная документация, и стабильные ветки, и об этом
событии, первыми, вы сможете узнать в группе `MDDRY`, там же вы можете накидать
багов связанные с `MDDRY`, вмести свои предложения для новых `ФИЧ`. Если вы
хотите выразить свое неудержимое негативное мнение, то можете это сделать
группу `НЕ_ЛЮБЛЮ_MDDRY`.

---

Про лицензию: `MarkdownDRY` не имеет ни какой лицензии, и не имеет авторского
права, юзайти его в своё удовольствие, и если хотите, делитесь впечатлениями ;)

![](./doc/License.png)

# Какие фичи предлагает MarkdownDRY ?

Начнем с того что `MarkdownDRY` как раз имеет такое название, из-за того что
следует принципу разработки
`Don’t repeat yourself (DRY; с англ «не повторяйся»)` и все его фичи направлены
во имя этого принципа.

Также, следовательно, из названия `MarkdownDRY` совместим с `Markdown` и эта
связь не только синтаксическая, но и ментальная. Он такой же простой, и с ним
справиться любая домохозяйка.

Вот изображение которые объясняет обратную совместимость.

![](./doc/ОбратнаяСовместимость.png)

## Список фич

### Переменные - `Vars`

Вот что думаю - авторы не любят повториться, а читатели любят когда им,
повторяют, и это безответная любовь сводиться к тому что документация похожа на
крысиную нору. Куски информации раскиданы по всему тексту, читатель забывает
важный аспект, совершает ошибку, ищет её решение по всему тексту, напрягает
извилины, ну а автор не хочет дублировать текст везде, где это нужно, и максимум
дает ссылку на главу в котором где-то написан этот важный аспект.

Все могло бы быть взаимно, если бы автор напомнил читателю важные аспекты,
везде, где это нужно, но не при это без ручного дублирование текста.

Надеюсь я доказал зачем нужны переменные в языке разметки ?

![](./doc/мемVars.png)

#### Синтаксис

Переменные в `MarkdownDRY` похожи на переменные в ЯП, у них есть

- Инициализации. (Похоже на список ссылок которые указывают на какие-то данные)

<pre>
  - [=ИмяПеременной_1](Любой текст)
  - [=ИмяПеременной_2](Любой текст)
  - [=ИмяПеременной_N](Любой текст)
  </pre>

- Обращение. (Это просто красивый и не занятый шаблон)

<pre>
  [=ИмяПеременной]
  </pre>

- Область видимости. Инициализациия переменных и обращения к ним, должно быть в
одном файле и в каком-нибудь заголовке(
если вам нужна переменная из другого файла, то подумайте, а может вам лучше
объединить эти файлы, или же использовать `Ссылочные блоки`). Поиск переменных
производиться при формировании кеша заголовков который создается при сборке
файла.

Алгоритм поиска - Начинаем искать все заголовки в файле, встречается нам
заголовок, из него мы берем название, уровень, и весь текст от начало этого
заголовка и до следующего. Весь текст заголовка парсим и ищем инициализацию
переменных, если находим их то заносим в кеш текущего заголовка, после этого
ищем обращения к переменным, если они есть то начинаем поиск сначала в текущем
заголовке, потом в ранее инициализированных заголовков, но не во всех, а
только в тех что, выше текущего.

**В общем не парьтесь, глянете на примеры, попробуйте втянутся, и сразу
поймете что к чему тут.**

- Переопределение. Тут все по классике, возьмется инициализированная переменная,
которая ближе всего к месту обращения.

#### Пример

Нам нужно написать документацию для реляционной таблицы. Мы можем облегчить себе
работу, но не жизнь, используя переменные.

<pre>
# Документация таблиц

<br>Инициализируем переменные в которых будут храниться текст с типами(текста с
<br>инициализацией переменных в html не будет, потому что зачем всем что вы любите
<br>обзывать переменные тремя буквами XD)
<br>
<br>- [=VCH](varchar)
<br>- [=Строка255](тип [=VCH](255))
<br>- [=Строка8](тип [=VCH](255))
<br>- [=ЭтоОбязательно]((\* это поле обязательно для заполнения))
<br>- [=ПоУмолчанию](По умолчанию)
<br>
<br>Вот наша оригинальная таблица которая нуждается в документации. Приведем два
<br>варианта как это можно записать.
<br>
<br>- DLL_Имя Описание Тип
<br>- Login Логин [=Строка255] [=ЭтоОбязательно]
<br>- Password Пароль[=Строка255] [=ЭтоОбязательно]
<br>- FIO ФИО [=Строка255]
<br>- DATE_CREATE Дата рождения [=Строка8] [=ЭтоОбязательно]
<br>- Family_Status Семейное положение [=ПоУмолчанию] [=IS_LONELY_DOG]
<br>
<br>| DLL Имя       | Описание           | Тип                             |
<br>| ------------- | ------------------ |---------------------------------|
<br>| Login         | Логин              | [=Строка255] [=ЭтоОбязательно]  |
<br>| Password      | Пароль             | [=Строка255] [=ЭтоОбязательно]  |
<br>| FIO           | ФИО                | [=Строка255] [=ЭтоОбязательно]  |
<br>| DATE_CREATE   | Дата рождения      | [=Строка8]                      |
<br>| Family_Status | Семейное положение | [=ПоУмолчанию] [=IS_LONELY_DOG] |
</pre>

---

Итог:

> Обратим внимание, что обращение к не инициализированной переменной `[=IS_LONELY_DOG]` останется без изменений.

![](./doc/Vars.png)

### Ссылочный блок - `ReferenceBlock`

Ссылочные блоки — они нужны, чтобы делать ссылки на блоки текста. Вы можете где
угодно инициализировать ссылочный блок, и где угодно получить его данные. Имена
ссылочных блоков должны быть уникальны, они похоже на теги в `Markdown` ,
например если вы будете использоваться редактор `Obsidian` то в нём есть
автокомплит и поиск по тегам, эту возможность можно также использовать для
ссылочных блоков.

![](./doc/мемReferenceBlock.png)

#### Синтаксис

Инициализация:

<pre>
[#Имя-Ссылки-На_Блок](

Любой
Многострочный текст
Может быть, тут. Только не забудет поставить два переноса строки до и после текста.

)
</pre>

---

Обращение:

<pre>
[#Имя-Ссылки-На_Блок]
</pre>

#### Пример

Так как `MarkdownDRY` должен быть настолько простым, чтобы с ним смогла
справиться любая домохозяйка, сделаем пример для домохозяйки.

Наша гипотетическая домохозяйка, решили переписать сою кулинарную книгу рецепты
в электронный вид, чтобы поделиться своими знаниями на форуме с другими
домохозяйками. Она решила выбрать язык разметки `MarkdownDRY`, и это был её
осознанный выбор. Она знала что в нем есть ссылочные блоки, и это было ключевым
моментом в её решение.

Она использовала их, для того чтобы напоминать другим домохозяйкам, которые
возможно еще не совсем опытны, на важные аспекты в кулинарии.

Вот пример как она их использовала.

<pre>
# Аспекты кулинарии

[#НеВКипяток](

Если класть в некипящую воду, они могут слипнуться.

)

# Рецепты

## Макароны

Макароны варятся в среднем 7–10 минут. Но лучше ориентироваться на время, указанное на упаковке. В любом случае следите, чтобы изделия не расползлись. Если
хотите довести макароны до состояния al dente (сделать их слегка недоваренными), вычитайте пару минут из указанной цифры. Но только если на пачке сразу не
написано, что это время, необходимое для al dente. Как варить макароны на плите. Налейте в просторную кастрюлю воду. На 100 г макарон рекомендуют брать 1 л
воды, но можно использовать и поменьше. Главное — чтобы изделия свободно плавали в жидкости. Всыпьте соль. На такое количество воды хватит 1 чайной ложки с
горкой. Хотя в этом вопросе лучше всегда полагаться на свой вкус. По желанию можно добавить и другие специи. Поставьте кастрюлю на сильный огонь и дождитесь,
когда вода закипит. После закиньте макароны.

[#НеВКипяток]

## Пельмени

- Кастрюля должна быть невысокой и широкой, чтобы пельменям в ней было не тесно.
+ Вода должна заполнять ее на три четверти или две трети (пельмени вытеснят часть воды наверх по закону Архимеда ровно в том объеме, который займут сами).
- Солят воду сразу после закипания, но до того, как опускать в нее пельмени.
- Чтобы пельмени не склеивались можно добавить в воду ложку растительного масла.
+ Чтобы пельмени не приклеились ко дну кастрюли, нужно провести по дну кастрюли шумовкой, особо прилипчивые пельмени отскочат от дна.
* Варят пельмени 8-12 минут (в зависимости от размеров пельменей: мелкие – меньше, а крупные, соответственно, дольше). После того, как они всплывут, огонь уменьшают, чтобы вода не бурлила, это может привести к тому, что пельмени распадутся. И варят еще 3-5 минут.
- Перед подачей на стол, необходимо выловить пельмени из воды шумовкой и уложить в кастрюльку, чтобы вода с них стекла и только потом, выкладывать на тарелки. Дополнительно можно поставить кастрюльку на маленький огонь, чтобы вода выпарилась. Делается это для того, чтобы тесто несколько подсохло и лучше впитывало соус, с которым их поедают.

[#НеВКипяток]

</pre>

---
<pre>
# Аспекты кулинарии

[#НеВКипяток](

Если класть в некипящую воду, они могут слипнуться.

)

# Рецепты

## Макароны

Макароны варятся в среднем 7–10 минут. Но лучше ориентироваться на время, указанное на упаковке. В любом случае следите, чтобы изделия не расползлись. Если
хотите довести макароны до состояния al dente (сделать их слегка недоваренными), вычитайте пару минут из указанной цифры. Но только если на пачке сразу не
написано, что это время, необходимое для al dente. Как варить макароны на плите. Налейте в просторную кастрюлю воду. На 100 г макарон рекомендуют брать 1 л
воды, но можно использовать и поменьше. Главное — чтобы изделия свободно плавали в жидкости. Всыпьте соль. На такое количество воды хватит 1 чайной ложки с
горкой. Хотя в этом вопросе лучше всегда полагаться на свой вкус. По желанию можно добавить и другие специи. Поставьте кастрюлю на сильный огонь и дождитесь,
когда вода закипит. После закиньте макароны.

Если класть в некипящую воду, они могут слипнуться.

## Пельмени

- Кастрюля должна быть невысокой и широкой, чтобы пельменям в ней было не тесно.
+ Вода должна заполнять ее на три четверти или две трети (пельмени вытеснят часть воды наверх по закону Архимеда ровно в том объеме, который займут сами).
- Солят воду сразу после закипания, но до того, как опускать в нее пельмени.
- Чтобы пельмени не склеивались можно добавить в воду ложку растительного масла.
+ Чтобы пельмени не приклеились ко дну кастрюли, нужно провести по дну кастрюли шумовкой, особо прилипчивые пельмени отскочат от дна.
* Варят пельмени 8-12 минут (в зависимости от размеров пельменей: мелкие – меньше, а крупные, соответственно, дольше). После того, как они всплывут, огонь уменьшают, чтобы вода не бурлила, это может привести к тому, что пельмени распадутся. И варят еще 3-5 минут.
- Перед подачей на стол, необходимо выловить пельмени из воды шумовкой и уложить в кастрюльку, чтобы вода с них стекла и только потом, выкладывать на тарелки. Дополнительно можно поставить кастрюльку на маленький огонь, чтобы вода выпарилась. Делается это для того, чтобы тесто несколько подсохло и лучше впитывало соус, с которым их поедают.

Если класть в некипящую воду, они могут слипнуться.

</pre>

### Раскрываемые блок - `DropdownBlock`

Ладно, из-за моих плоских шутейк большая часть аудитории уже ушла, а это значит
что ты, мой читатель, который дошел до этой строки, особенный! Не такой, как
все. Поэтому сделаю тебе подарок - буду писать только суть, без демагогии.

Цель `раскрываемого блока`, скрыть излишнюю подробность при просмотре документа.

Принцип работы `DropdownBlock`

![](doc/мемDropdownBlock.png)

#### Синтаксис

- Шаблон

<pre>
? Описание скрытого блока

Любой многострочный
Текст

?
</pre>

#### Пример

<pre>
Wi-Fi (Wireless Fidelity) — технология беспроводной локальной сети с
устройствами на основе стандартов IEEE 802.11.

? диапазонамы WiFi

Основными диапазонами Wi-Fi считаются 2.4 ГГц (2412 МГц-2472 МГц), 5 ГГц (
5160-5825 МГц) и 6 ГГц (5955-7115 МГц)? Сигнал Wi-Fi может ?? передаваться на
километры даже при низкой мощности передачи, но для приема Wi-Fi-сигнала с
обычного Wi-Fi-маршрутизатора на далеком расстоянии нужна антенна с высоким
коэффициентом усиления (например параболическая антенна или Wi-Fi-пушка).
Основными диапазонами Wi-Fi считаются 2.4 ГГц (2412 МГц-2472 МГц), 5 ГГц (
5160-5825 МГц) и 6 ГГц (5955-7115 МГц)? Сигнал Wi-Fi может ?? передаваться на
километры даже при низкой мощности передачи, но для приема Wi-Fi-сигнала с
обычного Wi-Fi-маршрутизатора на далеком расстоянии нужна антенна с высоким
коэффициентом усиления (например параболическая антенна или Wi-Fi-пушка)
.Основными диапазонами Wi-Fi считаются 2.4 ГГц (2412 МГц-2472 МГц), 5 ГГц (
5160-5825 МГц) и 6 ГГц (5955-7115 МГц)? Сигнал Wi-Fi может ?? передаваться на
километры даже при низкой мощности передачи, но для приема Wi-Fi-сигнала с
обычного Wi-Fi-маршрутизатора на далеком расстоянии нужна антенна с высоким
коэффициентом усиления (например параболическая антенна или Wi-Fi-пушка).

?

? История WiFI

Wi-Fi был создан в 1997 году в лаборатории радиоастрономии CSIRO (Commonwealth
Scientific and Industrial Research Organization) в Канберре, Австралия[3].
Создателем беспроводного протокола обмена данными является инженер Джон
О’Салливан.

?

Любое оборудование, соответствующее стандарту IEEE 802.11, может быть
протестировано в Wi-Fi Alliance и получить соответствующий сертификат и право
нанесения логотипа Wi-Fi.
</pre>

---
![](./doc/DropdownBlock.png)

### Выделение блоков - `HighlightBlock`

#### Синтаксис

- `!` Пример
- `!!` Информирование
- `!!!` Предупреждение

#### Пример

<pre>
Чтобы показать пример как надо делать - нужен один восклицательный знак.

! Пример

Вот так вот (#Александр_Невский)

!

Чтобы проинформировать читателя - нужно два восклицательных знака.

!! Важная информация

А сегодня в завтрашний день не все могут смотреть. Вернее, смотреть могут не
только лишь все, мало кто может это делать

!!

Чтобы предупредить читателя об опасностях - нужно три восклицательных знака

!!! Предупреждение

Не лезь, уважаемый, читатель. Вы что, не понимаете, я вам что сказал? Залезь,
быстрее, ну-ка обратно! Сударь, извольте!
Она тебя сожрёт, махом. Зачем вы так делаете ?!

!!!

</pre>

---
![](./doc/HighlightBlock.png)

### Фото Галерея - `PhotoGallery`

Группировать фотки это круто. Килир-фича когда вам нужно показать
последовательность действий использования UI, через фото.

#### Синтаксис

Вот так все просто. Делаем список, даем ему имя, и в нем делаем под список со
ссылками на фото.

<pre>
- Заголовок для группы c фото
    1. ![Описание_1](Путь.png)
    2. ![Описание_2](Путь.jpeg)
    N. ![Описание_N](Путь.web)
</pre>

#### Пример

Перед нами стоит ответственная задача, нужно собрать галерею из негодных и
годных мемов.

Решить эту задачу мы можем так

<pre>
<br>Мы провели опрос среди наших коллег и выявили топ лучших мемов.

- Годные мемы по мнению наших коллег

    1. ![жиза](./img/photo_5406930064488119262_y.jpeg)
    2. ![бывает](./img/photo_5404351550807194847_x.jpeg)
    3. ![кек](./img/photo_5397637237023293781_y.jpeg)
    4. ![также про хороших прогеров можно сказать](./img/photo_5388881400729550126_y.jpeg)

<br>А вот список худших мемов которые мы прелагали оценить нашим коллегам:

- Баяны, вообще не смешно ...

    1. ![быват](./img/photo_5397637237023293051_y.jpeg)
    2. ![не смешно !](./img/photo_5393528392135065253_y.jpeg)
    3. ![баянище](./img/photo_5384292043490180151_y.jpeg)
    4. ![Вообще то можно использовать знак `;` и писать код в одну строку](./img/photo_5368493444378508549_y.jpeg)

</pre>
---

![](./doc/PhotoGallery.png)

### Математический размах - `MathSpan`

А это уже не шутки ... серьезно ! У пользователей `MarkdownDRY` всегда будет под
рукой `SymPy`.

А это значит, что юзеры могут прямо в документации - рассчитывать траекторию
движения космического аппарата по просторам вселено, с учетом гравитационных
маневров около массивных тел. Или же, считать потраченные минуту на задачи
заказчиков.

![](./doc/мемMathSpan.png)

#### Синтаксис

<pre>
`=КультурноеМатематическоеВыражение`
</pre>

#### Пример

<pre>
<br># Увлекательная история о том, как я весело провел свое лето в офисе.
<br>
<br>04.08.2022

<br>-[x] 30 http://support/TicketID=10101#252787
<br>-[x] 30 http://support/TicketID=10101#247112
<br>-[x] 140 http://support/TicketID=10101#253418
<br>-[x] 120 http://support/TicketID=10101;ArticleID=253507#253373
<br>-[x] 20 http://support/TicketID=10101;ArticleID=253507#253373
<br>-[x] 100 http://support/TicketID=10101;ArticleID=253504#253500

<br>`=450-30-30-140-120-100-20`

<hr>

<br>03.08.2022

<br>-[x] 120 http://support/TicketID=10101#
<br>-[x] 20 http://support/TicketID=10101#253244
<br>-[x] 100 http://support/TicketID=10101;ArticleID=253073#253274
<br>-[x] 160 http://support/TicketID=10101
<br>-[x] 40 http://support/TicketID=10101#247112

<br>`=450-20-100-120-160-40`

<hr>

<br>02.08.2022

<br>-[x] 20 http://support/TicketID=10101#
<br>-[x] 20 http://support/TicketID=10101;ArticleID=248185#252925
<br>-[ ] 20 + 160 +100 http://support/TicketID=10101#
<br>-[x] 60 http://support/TicketID=10101#250129
<br>-[x] 60 http://support/TicketID=10101;ArticleID=253164

<br>`=450-20-20-20-160-100-60-60`

<hr>

<br>01.08.2022

<br>-[x] 120 http://support/TicketID=10101#
<br>-[x] 140 http://support/TicketID=10101;ArticleID=248185
<br>-[x] 40 http://support/TicketID=10101#249886
<br>-[x] 100 http://support/TicketID=10101
<br>-[x] 40 http://support/TicketID=10101#252945

<br>`=450-120-140-40-100-40`

</pre>

![](./doc/MathSpan_Simpl.png)

---

(Комбинируем с `Vars`):

<pre>
# Текст неизвестного рекрутера

<br>- [=ЗпВ-Месяц](11_000)
<br>- [=НДФЛ](99)
<br>- [=СтолькоТоКусковХлеба](2 куска)
<br>
<br>В нашей компании достоянная заработная плата для начинающих IT специалистов,
в размере `=[=ЗпВ-Месяц]-(([=ЗпВ-Месяц]/100)*[=НДФЛ])` копеек.
<br>Для более опытных сотрудников, мы оплачиваемый половину горячего обед, и
выдаем [=СтолькоТоКусковХлеба] хлеба на руки.
<br>
<br>- [=СколькоЧасовОтработано](99)
<br>- [=СколькоЗадачВыполнено](10)
<br>- [=СколькоРазВыОпоздали](1)
<br>- [=РандомноеЧисло](2)
<br>
- [=ПремияБезНДФЛ](([=СколькоЧасовОтработано]*[=СколькоЗадачВыполнено]/[=СколькоРазВыОпоздали])-[=РандомноеЧисло])
<br>- [=ПремияС_НДФЛ]([=ПремияБезНДФЛ]-(([=ПремияБезНДФЛ]/100)*[=НДФЛ]))
<br>
<br>За успешное выполнение своих должностных обязательств
<br>вам полагается премия, в размере `=[=ПремияБезНДФЛ]` дополнительных задач.
<br>Да премия у нас выдается в дополнительных задачах, это такая у нас фишка :)
Вы же сами говорили вам нужно опыта поднабраться у нас в компании.
</pre>

![](./doc/MathSpan.png)

---

### Скрытые заголовки - `HiddenHeaders`

Бывает нужно, создать заголовок, для того чтобы сослаться на него, и мы не хотим
чтобы он попадал в оглавление документа. Для этого есть `HiddenHeaders`

#### Синтаксис

<pre>
# ^ИмяЗаголовка1
## ^ИмяЗаголовка2
### ^ИмяЗаголовка3
#### ^ИмяЗаголовка4
##### ^ИмяЗаголовка5
###### ^ИмяЗаголовка6
</pre>

#### Пример

Вот типичная документация проекта, из неё нам нужно скрыть заголовки которые
подробно описывать ошибки. В оглавление они будут занимать много лишнего места,
а вот ссылаться на эти заголовки в других местах документации будет полезно.
Поэтому воспользуемся `HiddenHeaders`


<pre>
# Стек технологий

Вам грозит `#` если вы потеряете конфиденциальные данные клиентов. Ну или две ##
, разные случаи в жизни бывают

## БД

### SQL

Нормальные реляционные БД

### NoSQL

Не нормальные не реляционные БД

## Frontend

JavaScript

## Брокеры сообщений

Курьер, приходит в понедельник и четверг в 12 часов дня.

## Диплой

В диплое главное - чтоб бекапы были рабочего варианты.

# Ссылки на документацию

Зачем нам документация ? Все же и так понятно ! Смотри в код, читай, понимай.

# Ошибки

Ошибки не волк, прод повалить и в вечер пятницы. Так что не ошибайся, и тогда не
будет ошибок.

## ^Ошибки связанные с API

Во всем виноваты Бекендеры.

## ^Ошибки связанные с БД

Во всем виноваты Администраторы БД.

## ^Ошибки в UI

Во всем виноваты Фронтедеры

## ^Ошибки связанные с VPN

Во всем виноваты Девопсеры

## ^Ошибки связанные с Легаси кодом

Эт не я делал, так что, виноваты прошлые разрабы которые документацию не
оставили. Разбирайся как-нибудь сам ...

<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

# Готовые решения задач, и очень длинный заголовок которые не влезает в оглавление

Если вам нужно вывести в консоль "Привет мир", то тогда воспользуйтесь гуглом, и
поищите там ответ.
</pre>

---

В итоге:
![](./doc/HiddenHeaders.png)

### Ссылки на структурные элементы кода - LinkCode

Полноценна эта фича, пока доступна только для `Python`, но вы можете
использовать универсальный вариант такой как `УникальныйЯкорь` для любого
формата данных.

Суть заключается в том, что вы можете делать ссылки на элементы кода такие как:

- `Класс`
- `Класс.Метод`
- `Класс.Атрибут`
- `Функция`
- `Переменная`
- `УникальныйЯкорь` отдельная глава *

#### Синтаксис

<pre>
[Имя Для Ссылки](ПутьКФайлу.py#Класс)
[Имя Для Ссылки](ПутьКФайлу.py#Класс.метод)
[Имя Для Ссылки](ПутьКФайлу.py#Класс.атрибут)
[Имя Для Ссылки](ПутьКФайлу.py#Функция)
[Имя Для Ссылки](ПутьКФайлу.py#Переменная)
</pre>

#### УникальныйЯкорь

Суть в том что мы заключаем нужны текст в "блок", а потом ссылаемся на него. Эта
фича доступна во всех форматах.

Ссылка на Уникальный Якорь

<pre>
[Имя Для Ссылки](ПутьКФайлуЛюбой#УникальныйЯкорь)
</pre>

Создание якоря

<pre>
УникальноИмяЯкоря>

Любой
Текст
Можно Вписать

<УникальноИмяЯкоря
</pre>

#### Пример ссылки на локальные файлы

Есть файл `main.py`, вот его исходник

```
# Обычная функция
from functools import wraps


class NeClass:
name: str = __file__

def __call__(self, *args, **kwargs):
"""Доки"""
return self.name


def another_function(func):
"""
Функция которая принимает другую функцию
"""

@wraps(func)
def wrapper():
"""
Оберточная функция
"""
# Химичим>
val = "The result of %s iSs %ss" % (func(), eval(func()))
#
<Химичим
        return val

        return wrapper


        @another_function
        def a_function():
"""Обычная `функция`"""
return "1+1"


@another_function
def a_function():
"""Обычная `функция`"""
return "1+2"


@another_function
def a_function():
"""Обычная `функция`"""
return "1+3"


@another_function
def a_function():
"""Обычная `функция`"""
return "1+4"


@another_function
def a_function():
"""Обычная `функция`"""
return "1+5"


__name__ = '__main__'

if __name__ == "__main__":
print(a_function.__name__)  # a_function
print(a_function.__doc__)  # Обычная функция

```

---

Будем делать ссылки на все возможные варианты элементов кода:

<pre>
<br>[Имя Для Ссылки1](./raw/LinkCode.py#NeClass)
<br>[Имя Для Ссылки2](./raw/LinkCode.py#NeClass.name)
<br>[Имя Для Ссылки3](./raw/LinkCode.py#NeClass.__call__)
<br>[Имя Для Ссылки4](./raw/LinkCode.py#another_function)
<br>[Имя Для Ссылки5](./raw/LinkCode.py#__name__)
<br>[Имя Для Ссылки6](./raw/LinkCode.py#Химичим)
</pre>

---
В итоге:

![](./doc/LinkCode.png)

#### Пример ссылки на файл из интернета

У нас есть файл на `GitGist` или на `GitHub`, или откуда угодно. И нам нужно
сделать ссылку на него. Это делается точно так же как и на локальный файл. В
этом случае исходный код будет загружен при сборке `MarkdownDRY`. Если вам нужно
обновить исходный код на актуальный вариант из интернета, то пересоберите
проект. Ссылки похожие, теперь место пути указываем `URL`.

---

Вот реальный пример, ссылаться мой код из `GitGist`:

<pre>
<br>[check_uniq_key](https://gist.githubusercontent.com/denisxab/4290770428d4d34a83624f5343df87fd/raw/3fd17298a2dd382d0a2c52e4e11e2993f9b2da0b/SymmetricCrypto.py#SymmetricCrypto.check_uniq_key)
<br>[crypto](https://gist.githubusercontent.com/denisxab/4290770428d4d34a83624f5343df87fd/raw/3fd17298a2dd382d0a2c52e4e11e2993f9b2da0b/SymmetricCrypto.py#SymmetricCrypto.crypto)

</pre>

---
В итоге:

![](./doc/LinkCode_NET_GitGist.png)

### Экранированная вставить кода из файла - InsertCodeFromFile

Суть в том что мы можем вставлять текст из другого файла, в
результирующий `HTML` файл. В отличие от `IndisputableInsertCodeFromFile` в `md`
файл он вставиться.

#### Синтаксис

Вставить исходный код из файла в `MarkdownDRY`:

<pre>
![Имя Для Ссылки](ПутьКФайлу.py)
![Имя Для Ссылки](ПутьКФайлу.py#Класс)
![Имя Для Ссылки](ПутьКФайлу.py#Класс.метод)
![Имя Для Ссылки](ПутьКФайлу.py#Класс.атрибут)
![Имя Для Ссылки](ПутьКФайлу.py#Функция)
![Имя Для Ссылки](ПутьКФайлу.py#Переменная)
![Имя Для Ссылки](ПутьКФайлу.py#УникальныйЯкорь)
</pre>

#### Пример

Вот файл, который будем вставлять, назовем его `./raw/regex_mem.txt`

```text
(?P
<class>(class[\t ]+.+[\t ]*)(?:\((.+)\))?:\n(?:\t+| {1,4}.*\n+)+)|
    (?P
    <func>(def[\t ]+.+[\t ]*)\((.+):\n(?:(?:\t+| {1,4}).*\n+)+)|
        (?:\A|\n)\s*(?P<var>.+[\t ]*=.+)
            ```

            ---

            Пример использование

            <pre>
![](./in/InsertCodeFromFile.md)
</pre>

            ---

            В итоге:

            ![](./doc/InsertCodeFromFile.png)

            ### Бесспорная вставить кода из файла - IndisputableInsertCodeFromFile

            `Бесспорная вставка` подразумевает что текст из файла вставиться без всякого
            форматирования в файл `md` который после будет обработан `MarkdownDRY`. Вообще
            это самый первый этап конвертации, в нем мы можем просто соединять
            разные `markdown` файлы в один, вставлять текст для примеров из других файлов, и
            делать что нраву. Но помните что - "с большой силой, приходит большая
            ответственность"

            Эта фича уже используется в этой документации, для вставки примеров. Я думаю это
            очень хорошо когда примеры из документации являются также и данными для
            тестирования, если мы что-то поменяли в логике программы, то мы поправим и текст
            тестов. А так как примеры берутся из тестовых данных, то они будут всегда
            актуальны.

            #### Синтаксис

            ![](./doc/IndisputableInsertCodeFromFile.png)

            > `Расширение` - лучше не указывать бинарные файлы для вставки. Но если душа просит, то ограничений на это нет.

            #### Пример

            Мы разработали скрипт для парсинга `env` файлов, вещь полезная, и важная,
            поэтому давайте напишем к ней документацию. Самая лучшая документация, это там
            где меньше написано и больше показано, так что давайте сразу приведем пример,
            как скрипт работает.

            <pre>
Пример `env` файла:

<pre>
!![](./raw/IndisputableInsertCodeFromFile.env)
</pre>

После парсинга этого файла получим `Python` словарь:

```
!![](../out/IndisputableInsertCodeFromFile.py)
```

Код скрипта:

```
!![](./raw/ENV_IndisputableInsertCodeFromFile.py)
```

</pre>

            ---
            В итоге:

            <pre>
Пример `env` файла:

<pre>
# (!) - обозначает что нельзя изменять имя ПО, так как его используют официальное образы.

## Django
# Ключ для расшифровки сессии
DJANGO_SECRET_KEY="{{ secret_key }}"
# Имя проекта
NAME_PROJ="{{ project_name }}"
# Режим работы (true/false)
DEBUG=true


### Docker
# Путь к рабочей директории
WORK_DIR="/usr/src/{{ project_name }}"
# Путь к переемным окружениям
PATH_ENV="./__env.env"
# Внешний порт <!Изменить значения на свои>
EXTERNAL_WEB_PORT=8081
# Внешний и Внутренний порт для `nginx`. EXTERNAL_WEB_PORT != NGINX_PORT <!Изменить значеня на свои>
NGINX_PORT=8080


### Postgres
#  Имя БД (!) <!Изменить значения на свои>
POSTGRES_DB="postgres"
# Имя пользователя (!) <!Изменить значения на свои>
POSTGRES_USER="postgres"
# Пароль от пользователя (!) <!Изменить значения на свои>
POSTGRES_PASSWORD="postgres"
# Имя сервиса(контейнера)
POSTGRES_HOST="db"
# Порт подключения к БД. (По умолчанию 5432)
POSTGRES_PORT=5432
# Путь к зеркальной папке с БД
POSTGRES_VOLUMES="./db/pg_data"
</pre>

После парсинга этого файла получим `Python` словарь:

```
res = {
    'DJANGO_SECRET_KEY': '{{secret_key}}',
    'NAME_PROJ': '{{project_name}}',
    'DEBUG': 'true',
    'WORK_DIR': '/usr/src/{{project_name}}',
    'PATH_ENV': './__env.env',
    'EXTERNAL_WEB_PORT': '8081',
    'NGINX_PORT': '8080',
    'POSTGRES_DB': 'postgres',
    'POSTGRES_USER': 'postgres',
    'POSTGRES_PASSWORD': 'postgres',
    'POSTGRES_HOST': 'db',
    'POSTGRES_PORT': '5432',
    'POSTGRES_VOLUMES': './db/pg_data'
}

```

Код скрипта:

```
import os
import re
from pprint import pprint


def read_env_file_and_set_from_venv(file_name: str):
	"""Чтение переменных окружения из указанного файла, и добавление их в ПО `python`"""
	with open(file_name, 'r', encoding='utf-8') as _file:
		res = {}
		for line in _file:
			tmp = re.sub(r'^#[\s\w\d\W\t]*|[\t\s]', '', line)
			if tmp:
				k, v = tmp.split('=', 1)
				# Если значение заключено в двойные кавычки, то нужно эти кавычки убрать
				if v.startswith('"') and v.endswith('"'):
					v = v[1:-1]

				res[k] = v
	os.environ.update(res)
	pprint(res)

```

</pre>

            ---------------

            ### Многостраничные кодблоки - MultiPageCode

            #### Синтаксис

            <pre>
- Описание

  ```ИмяЯзыка [КраткоеИмяДляБлока_1]{ВыделитьСтроки}

  ```

  ```ИмяЯзыка [КраткоеИмяДляБлока_N]{ВыделитьСтроки}

  ```
</pre>

            - `[КраткоеИмяДляБлока]`- Название блока с кодом

            - `{ВыделитьСтроки}` - Выделение строк, можно указывать конкретные строки через
            запятую(`{Число_1,Число_2}`) или указывать диапазонны через
            тире `{Число_1-Число_2}`. Эти два варианта можно
            комбинировать.`{Число_1-Число_2,Число_3-Число_4,Число_5,Число_6`

            #### Пример

            <pre>
Камень в огород `HR`

- Что они спрашивают на собеседование

  ```python [Пузырьковая сортировка]{1,8}
  def bubble_sort(nums):
      # Устанавливаем swapped в True, чтобы цикл запустился хотя бы один раз
      swapped = True
      while swapped:
          swapped = False
          for i in range(len(nums) - 1):
              if nums[i] > nums[i + 1]:
                  # Меняем элементы
                  nums[i], nums[i + 1] = nums[i + 1], nums[i]
                  # Устанавливаем swapped в True для следующей итерации
                  swapped = True

  # Проверяем, что оно работает
  random_list_of_nums = [5, 2, 1, 8, 4]
  bubble_sort(random_list_of_nums)
  print(random_list_of_nums)
  ```

  ```python [Сортировка выборкой]{3,5-8}
  def selection_sort(nums):
      # Значение i соответствует кол-ву отсортированных значений
      for i in range(len(nums)):
          # Исходно считаем наименьшим первый элемент
          lowest_value_index = i
          # Этот цикл перебирает несортированные элементы
          for j in range(i + 1, len(nums)):
              if nums[j] < nums[lowest_value_index]:
                  lowest_value_index = j
          # Самый маленький элемент меняем с первым в списке
          nums[i], nums[lowest_value_index] = nums[lowest_value_index], nums[i]

  # Проверяем, что оно работает
  random_list_of_nums = [12, 8, 3, 20, 11]
  selection_sort(random_list_of_nums)
  print(random_list_of_nums)
  ```

  ```python [Сортировка вставками]{1-5}
  def insertion_sort(nums):
      # Сортировку начинаем со второго элемента, т.к. считается, что первый элемент уже отсортирован
      for i in range(1, len(nums)):
          item_to_insert = nums[i]
          # Сохраняем ссылку на индекс предыдущего элемента
          j = i - 1
          # Элементы отсортированного сегмента перемещаем вперёд, если они больше
          # элемента для вставки
          while j >= 0 and nums[j] > item_to_insert:
              nums[j + 1] = nums[j]
              j -= 1
          # Вставляем элемент
          nums[j + 1] = item_to_insert

  # Проверяем, что оно работает
  random_list_of_nums = [9, 1, 15, 28, 6]
  insertion_sort(random_list_of_nums)
  print(random_list_of_nums)
  ```

  ```python [Пирамидальная сортировка]{5-8}
  def heapify(nums, heap_size, root_index):
      # Индекс наибольшего элемента считаем корневым индексом
      largest = root_index
      left_child = (2 * root_index) + 1
      right_child = (2 * root_index) + 2

      # Если левый потомок корня — допустимый индекс, а элемент больше,
      # чем текущий наибольший, обновляем наибольший элемент
      if left_child < heap_size and nums[left_child] > nums[largest]:
          largest = left_child

      # То же самое для правого потомка корня
      if right_child < heap_size and nums[right_child] > nums[largest]:
          largest = right_child

      # Если наибольший элемент больше не корневой, они меняются местами
      if largest != root_index:
          nums[root_index], nums[largest] = nums[largest], nums[root_index]
          # Heapify the new root element to ensure it's the largest
          heapify(nums, heap_size, largest)

  def heap_sort(nums):
      n = len(nums)

      # Создаём Max Heap из списка
      # Второй аргумент означает остановку алгоритма перед элементом -1, т.е.
      # перед первым элементом списка
      # 3-й аргумент означает повторный проход по списку в обратном направлении,
      # уменьшая счётчик i на 1
      for i in range(n, -1, -1):
          heapify(nums, n, i)

      # Перемещаем корень Max Heap в конец списка
      for i in range(n - 1, 0, -1):
          nums[i], nums[0] = nums[0], nums[i]
          heapify(nums, i, 0)

  # Проверяем, что оно работает
  random_list_of_nums = [35, 12, 43, 8, 51]
  heap_sort(random_list_of_nums)
  print(random_list_of_nums)
  ```

Когда приходишь в их продакшн

- В продакшене

  ```python [Вриант 1]
  random_list_of_nums = sorted([9, 1, 15, 28, 6])
  ```

  ```python [Вариант 2]
  random_list_of_nums = [9, 1, 15, 28, 6].sort()
  ```

</pre>

            ---
            В итоге:

            ![](./doc/MultiPageCode.png)

            ### Многострочные таблицы - `MultiLineTables`

            В Многострочные таблицы можно писать

            - Переносы строк
            - Фото
            - Блоки с кодом
            - Ссылочные блоки

            Что еще дозволено:

            - Доступны агрегатные функции `avg(),sum()`для диапазона ячейка.
            - Разрешено обращаться к данным указанных ячеек и производить с ними
            арифметику (с использованием `SymPy`). Я не понимаю в чем прикол использовать
            английский алфавит для столбцов, поэтому у нас будут все равны - числовые
            столбцы - числовые строки, и начало у них с единицы.

            #### Синтаксис

            Для того чтобы таблица стала многострочной нужно указать в следующем столбце 3
            тире подряд `-`. И так нужно делать для каждого столбца.

            Обращение к ячейкам:

            <pre>
`~НомерСтолбца,НомерСтроки`
</pre>

            Вызов агрегатной функции: поговорка, чтобы запомнить порядок аргументов (Слева
            на право, Сверху вниз)

            <pre>
`~sum(НомерСтолбца_Старт,НомерСтолбца_Конец,НомерСтроки_Старт,,НомерСтроки_Конец)`
</pre>

            #### Пример

            <pre>
<br>Пример агрегатных функций внутри многострочной таблицы

| Имя      | Себестоимость   | Цена за отправку  | Цена на товар с учетом отправки   |
|----------|-----------------|-------------------|-----------------------------------|
| Кукуруза | 100             | 20                | `~2,1+3,1`                        |
| НАША     |                 |                   |                                   |
| ---      | ---             | ---               | ---                               |
| Огурец   | 200             | 20                | `~2,2+3,2`                        |
| ---      | ---             | ---               | ---                               |
| Хлеб     | 450             |                   |                                   |
| Вкусный  |                 | 43                | `~sum(2,3,3,3)`                   |
| ---      | ---             | ---               | ---                               |
|          | `~avg(2,2,1,3)` | `~avg(3,3,1,3)+1` | `~10+sum(4,4,1,3)+1+avg(3,3,1,3)` |
| ---      | ---             | ---               | ---                               |

<br>Пример агрегатных функций внутри обычной таблицы

| Имя      | Себестоимость   | Цена за отправку | Цена на товар с учетом отправки |
| -------- |-----------------|------------------|---------------------------------|
| Кукуруза | 100             | 20               | `~2,1+3,1`                      |
| Помидор  | 300             | 25               | `~2,2+3,2`                      |
| Огурец   | 200             | 20               | `~2,3+3,3`                      |
| Молоко   | 400             | 30               | `~2,4+3,4`                      |
| Хлеб     | 450             | 43               | `~2,5+3,5`                      |
|          | `~avg(2,2,1,5)` | `~avg(3,3,1,5)`  | `~sum(4,4,1,5)`                 |

<br>Пример многострочной таблицы

| Метод                                           | Описание                                                    | Аргументы                   |
| ----------------------------------------------- | ----------------------------------------------------------- | --------------------------- |
| `os.remove(...)`                                | Удалить файл                                                | path=Путь к файлу           |
| ----------------------------------------------- | ----------------------------------------------------------- | ----------------------      |
| `list[start:stop:steep]`                        | Получить слайс                                              | start=Начальный индекс      |
|                                                 | ```py                                                       | stop=Конечный индекс        |
|                                                 | print('Hello Proger')                                       |                             |
|                                                 | ```                                                         | steep=Шаг                   |
| ----------------------------------------------- | ----------------------------------------------------------- | --------------------------- |
| `list.index(ЧтоИскать, Start, End)` -%3E `int`  | Возвращает `index` первого элемента со значением            | ЧтоИскать:str=Искомый текст |
|                                                 | `ЧтоИскать` (при этом поиск ведется от `Start` до `End`)    | Start:int=Старт             |
|                                                 | ![](_attachments/247f4dd8485c60f082aa5b874dde3c0a.png)      | End:int=Конец               |
| ----------------------------------------------- | ----------------------------------------------------------- | --------------------------- |


</pre>

            ---
            В итоге:

            ![](./doc/MultiLineTables.png)

            ### Пока не реализовано

            #### Выделения изображения

            Нарисовать квадрат(`[#]`) на изображение
            <pre>
![Любое описание[#]1x2x3x4]
</pre>

            - 1 = ВерхняяЛеваТочка
            - 2 = ВерхняяПраваяТочка
            - 3 = НижняяЛеваТочка
            - 4 = НижняяПраваяТочка

            Нарисовать много квадратов(`[#]`) на изображении - нужно перечислить через
            запятую
            <pre>
![Любое описание[#]1x2x3x4,1x2x3x4, и.тд.]
</pre>

            ---

            Нарисовать стрелку(`[^]`) на изображение
            <pre>
![Любое описание[^]1x2x3x4]
</pre>

            - 1 = ВерхняяЛеваТочка
            - 2 = ВерхняяПраваяТочка
            - 3 = НижняяЛеваТочка
            - 4 = НижняяПраваяТочка

            Нарисовать много стрелок(`[^]`) на изображении - нужно перечислить через
            запятую
            <pre>
![Любое описание[^]1x2x3x4,1x2x3x4, и.тд.]
</pre>
            ---

            Комбинируем, квадраты и стрелку.
            <pre>
![Любое описание[#]1x2x3x4,1x2x3x4[^]1x2x3x4,1x2x3x4,1x2x3x4]
</pre>

            #### Последовательность действий

            Синтаксис:
            <pre>
-1> Шаг  -2> Шаг -3> Шаг


</pre>

            Если вам нужно вставить фото для наглядного описания действий то:

            <pre>
-1> Шаг  -2> Шаг -3> Шаг

- ![1](Url)
- ![3](Путь к фото)
</pre>

            ---
            <pre>
Поиск блоков последовательности действий
(-.*>(?:.\s*(?!-<))+.)

Поиск элементов последовательности действий
-(!\[.*]\((?P<img>[^)]+)\))?>((?:.(?!-(!\[.*]\([^)]+\))?>))+)
-![](./asda/asda/dasd.png)> Базовый Модуль
 -> Справочники
 -![](./asda/asda/dasd.png)>  Системные справочники
 -![](./asda/asda/dasd.png)>  Системные справочники
 -> Классификаторы -> адресов/Территориальный участкиs
 -> Классификаторы -![](./asda/asda/dasd.png)> адресов/Территориальный участкиs
<div class="PP">
    {f'<div>{x.name}\n<div class="HidImg"><src url="{x.path}"/></div></div>' for x in PP }
</div>

</pre>
            ---

            #### Описание UI виджетов

            Для нестандартных оформлений нужно использовать html теги, по
            типу `dry_ИмяПлагины`. В данном случае `dry_ui`.

            Синтаксис

            <pre>
  <dry_ui>
  -![Заголовок Фото](ПутьФото)
    1. Описание виджета и выделение в квадрат [#]1x2x3x4,1x2x3x4
    2. Описание виджета и указание стрелочкой [^]1x2x3x4,1x2x3x4
    3. Описание виджета и выделение в квадрат и указание стрелочкой [#]1x2x3x4,1x2x3x4[^]1x2x3x4,1x2x3x4
  </dry_ui>
</pre>

